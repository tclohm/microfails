datasource DS {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider      = "prisma-client-js"
  binaryTargets = "native"
}

// Define your own datamodels here and run `yarn redwood db save` to create
// migrations for them.

model Post {
	id			Int 		@id @default(autoincrement())
	user 		User 		@relation(fields: [userId], references: [id])
	userId		Int
	tags 		Tag[]		@relation(references: [id])
	title		String
	description	String?
	createdAt	DateTime	@default(now())
}

model Tag {
	id 			Int 		@id @default(autoincrement())
	name 		String 		@unique
	posts 		Post[]		@relation(references: [id])
}

model User {
	id			Int		@id @default(autoincrement())
	posts		Post[]
	profile 	Profile?
}

model Profile {
	id 			Int		@id @default(autoincrement())
	user 		User 	@relation(fields: [userId], references: [id])
	userId 		Int
	name	   	String
	username 	String	@unique
	email 		String  @unique
}